{% extends 'base.html' %}

{% block content %}
<div class="mb-6 flex justify-between items-center">
    <h2 class="text-3xl font-bold">All Events</h2>
    <a href="{% url 'event_create' %}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        + Create Event
    </a>
</div>

<!-- Search and Filter -->
<div class="bg-white p-4 rounded shadow mb-6">
    <form method="GET" class="flex flex-wrap gap-4 items-end">
        <div class="flex-1 min-w-[200px]">
            <label class="block text-sm font-medium text-gray-700 mb-1">Search</label>
            <input type="text" name="search" value="{{ request.GET.search }}"
                placeholder="Search by name or location..."
                class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2">
        </div>

        <div class="w-48">
            <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
            <select name="category" class="w-full rounded-md border-gray-300 shadow-sm border p-2">
                <option value="">All Categories</option>
                {% for cat in categories %}
                <option value="{{ cat.id }}" {% if request.GET.category|add:"0" == cat.id %}selected{% endif %}>{{
                    cat.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="w-40">
            <label class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
            <input type="date" name="start_date" value="{{ request.GET.start_date }}"
                class="w-full rounded-md border-gray-300 shadow-sm border p-2">
        </div>

        <div class="w-40">
            <label class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
            <input type="date" name="end_date" value="{{ request.GET.end_date }}"
                class="w-full rounded-md border-gray-300 shadow-sm border p-2">
        </div>

        <button type="submit" class="bg-gray-800 hover:bg-gray-900 text-white font-medium py-2 px-6 rounded">
            Filter
        </button>
        <a href="{% url 'event_list' %}" class="text-gray-600 hover:text-gray-900 font-medium py-2 px-4">Clear</a>
    </form>
</div>

{% include "events/includes/event_table.html" %}

{% endblock %}
